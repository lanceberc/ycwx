<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StFYC Weather Information</title>
    
    <script src="local_config.js"></script>

    <!-- D3 for graphing -->
    <script src="lib/d3.v7.js"></script>
    
    <!-- Open Layers for GIS -->
    <script src="https://cdn.jsdelivr.net/npm/ol@v7.3.0/dist/ol.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v7.3.0/ol.css">

    <!-- Leaflet for AIS -->
    <link rel="stylesheet" href="leaflet.css" crossorigin=""/>
    <script src="leaflet.js" crossorigin=""></script>
    <!-- https://github.com/BenPortner/leaflet-burgermenu -->
    <link rel="stylesheet" href="./leaflet-burgermenu.css"/>

    <!-- Style sheets for wx scenes -->
    <link rel="stylesheet" href="wfforecast.css"> <!-- Weatherflow forecasts -->
    <link rel="stylesheet" href="NWSzones.css"> <!-- NWS text forecasts -->
    <link rel="stylesheet" href="ais.css"/>
    <link rel="stylesheet" href="wx.css">

    <!-- date formatting -->
    <script src="data/lib/date.format.js"></script>
    
    <script type="module">
      import { initialize } from "./wx.js";
      document.addEventListener("DOMContentLoaded", initialize);
    </script>

    <!-- Wind Models (GFS, NAM, HRRR) -->
    <!--
    <script src="lib/topojson.min.js"></script>
    <script src="wmRegions.js"></script>
    <script src="wm.js"></script>
    <link rel="stylesheet" href="wm.css">
    -->
  </head>

  <body id="body" class="wx" lang="en">
    <div class="wx-page">
      <div id="header" class="wx-header">
	<div>
	  <div id="scene-pull-down-enable" class="scene-pull-down-enable">
	    <image src="data/lib/menu-icon.svg">
	  </div>
          <div class="burgee-small burgee-left">
	    <image src="data/lib/stfyc-burgee.svg"></image>
	  </div>
	</div>
	<div class="local-number wx-header-1">
	  &nbsp;&nbsp;StFYC:&nbsp;<span class="temp-span-stfyc"></span>&#8457;&nbsp;
	  Wind&nbsp;<span class="direction-avg-span-stfyc"></span>&#176M&nbsp;
	  @&nbsp;<span class="wind-span-stfyc"></span>&nbsp;
	  G&nbsp;<span class="gust-span-stfyc"></span>&nbsp;
	  <span class="baro-span-stfyc"></span>mb&nbsp;
	  Tinsley:&nbsp;<span class="temperature-span-tinsley"></span>&#8457;&nbsp;&nbsp;
	</div>
	<div class="local-number wx-header-2">
	  <div>
	    StFYC:&nbsp;<span class="temp-span-stfyc"></span>&#8457;&nbsp;
	    <span class="baro-span-stfyc"></span>mb&nbsp;
	    Tinsley:&nbsp;<span class="temp-span-tinsley"></span>&#8457;
	  </div>
	  <div>
	  Wind:&nbsp;<span class="direction-avg-span-stfyc"></span>&#176M&nbsp;@<span class="wind-span-stfyc"></span>&nbsp;G&nbsp;<span class="gust-span-stfyc"></span>
	  </div>
	</div>
        <div class="burgee-small burgee-right">
	  <image src="data/lib/stfyc-burgee.svg"></image>
	</div>
      </div>
      
      <div class="wx-row">
	<div id="sidebar" class="wx-sidebar">
	  <div style="display: block;">
	    <div id="program" class="wx-program"></div>
	    <div id="scene-list" class="wx-scene-list"></div>
	  </div>
	  <div class="vertical-spacer-outer">
	    <div class="vertical-spacer-inner"> </div>
	  </div>
	  <div id="site-url" style="display: none; font-family: Courier">
	    wx.stfyc-wx.com
	  </div>
	  <div style="display: block">
	    <div id="mode-button" class="wx-button">Auto</div>
	    <div id="time-UTC" class="wx-time"></div>
	    <div id="time-local" class="wx-time"></div>
	  </div>
	</div>
	
	<div id="content" class="wx-content">

	  <div id="NOAAObservationsScene" class="wx-scene">
	    <div id="NOAAObservations" class="ol-flex-fit">
	      <div id="NOAAObservationsLabel" class="ol-label">NOAA Observations</div>
	    </div>
	  </div>

	  <div id="localWind" class="wx-scene localWind">
	    <div class="local-wind-grid">
	      <div class="local-wind-row1">
		<div class="local-wind-cell" style="grid-area: anemometer">
		  <div id="anemometer-stfyc-label" class="label">StFYC Race Office Wind</div>
		  <div id="anemometer-stfyc" class="anemometer-cell"></div>
		  <div id="anemometer-stfyc-plot-label" class="anemometer-stfyc-plot-label anemometer-cell horizontal-center">
		    Wind <span class="direction-avg-span-stfyc"></span>&#176M @<span class="wind-span-stfyc"></span> Gust <span class="gust-span-stfyc"></span>&nbsp;kts
		  </div>
		</div>
	      </div>
	      <div class="local-wind-row2">
		<div id="wind-history-recent-cell" class="local-wind-cell wind-history-cell">
		  <div id="wind-history-recent-label" class="label">Race Office 6hr Wind History</div>
		  <div id="wind-history-recent" class="wind-plot"></div>
		</div>
		<div id="wind-forecast120-cell" class="local-wind-cell wind-forecast-cell">
		  <div id="wind-forecast120-label" class="label">WeatherFlow 5-Day Wind Forecast</div>
		  <div id="wind-forecast120" class="wind-plot"></div>
		</div>
	      </div>
	    </div>
	  </div>
	  
	  <div id="ZoneForecasts" class="wx-scene">
	    <div id="nws-2" class="nws-column-2">
	      <div class="wx-cell" style="overflow: hidden">
		<div class="grid-container" style="vertical-align: top">
		  <div id="nws-zoneForecasts" class="nws-column">
		    <div id="nws-2-zone-container" class="nws-zone-container nws-scroll-container"></div>
		  </div>
		  <div id="nws-afd" class="nws-column">
		    <div id="nws-2-afd-container" class="nws-afd-container nws-scroll-container"></div>
		  </div>
		</div>
	      </div>
	    </div>
	    <div id="nws-1" class="nws-scroll-container nws-column-1">
	      <div class="grid-container" style="vertical-align: top">
		<div class="nws-column">
		  <div class="nws-zone-container"></div>
		  <div class="nws-afd-container"></div>
		</div>
	      </div>
	    </div>
	  </div>

	  <div id="sfTides" class="wx-scene">
	    <div class="tides-grid">
	      <div class="tides-cell">
		<div id="tide-forecast-9414290-label" class="label">Tide Height @ Ft Point</div>
		<div id="tide-forecast-9414290" class="tides-graph"></div>
	      </div>
	      <div class="tides-cell">
		<div id="current-forecast-SFB1203_18-label" class="label">Tidal Current 0.46nm E of Golden Gate Bridge (depth 30ft)</div>
		<div id="current-forecast-SFB1203_18" class="currents-graph"></div>
	      </div>
	      <div class="tides-cell">
		<div class="label">NOAA SFBOFS Currents</div>
		<div><img id="sfCurrentChart" class="wx-image update5" alt="current chart SFB1202" src="data/SFBOFS/latest.png"></div>
	      </div>
	      <div id="current-events-SFB1203_18" class="tides-cell">
		<div class="label">Today @ 0.46nm E of Golden Gate Bridge (depth 30ft)</div>
		<div id="current-events-content-SFB1203_18" class="current-events-content"></div>
		<!--
		    <span class="h3">Current Prediction @ GG Bridge</span><br>
		    <img class="wx-image update5" alt="current plot SFB1202" src="https://cdn.tidesandcurrents.noaa.gov/ports/plots/SFB1202_cu_24.png">
		    -->
	      </div>
	    </div>
	  </div>
	  
	  <div id="pacificSurfaceAnalysis" class="wx-scene wx-image">
	    <!-- <div class="wx-cell"> -->
	    <div class="ol-flex-fit">
	      <img class="wx-image update5" alt="Pacific Surface Analysis" src="https://ocean.weather.gov/P_sfc_full_ocean_color.png">
	    </div>
	  </div>
	  <div id="overlay-WestCoast" class="wx-scene">
	    <img class="wx-image update5" alt="West Coast + Offshore Satellite image" src="data/NOAA/overlay/WestCoastGLM/latest.jpg">
	  </div>
	  <div id="goes-PACUS" class="wx-scene">
	    <div class="ol-flex-fit">
	      <div id="PACUSLabel" class="ol-label">Latest GOES-West PACUS Image w/ Lightning</div>
	      <img class="wx-image update5" alt="PACUS image" src="data/NOAA/GOES/NESDIS_CONUS-West_GLM_1k/latest.jpg">
	    </div>
	  </div>
	  <div id="overlay-BayDelta" class="wx-scene">
	    <img class="wx-image update5" alt="Bay/Delta Satellite image" src="data/NOAA/overlay/BayDelta500m/latest.jpg">
	  </div>
	  <div id="overlay-NorthPacific" class="wx-scene">
	    <img class="wx-image update5" alt="North Pacific w/ Surface Analysis" src="data/NOAA/overlay/Pacific/latest.jpg">
	  </div>
	  
	  <div id="video-Pacific" class="wx-scene">
	    <div class="timelapse">
	      <video id="v-Pacifc" class="lazy wx-video" poster="data/NOAA/overlay/Pacific/latest.jpg" controls="false" autoplay muted playsinline loop>
		<source data-src="data/NOAA/overlay/Pacific/latest.mp4">
	      </video>
	    </div>
	  </div>
	  
	  <div id="video-WestCoast" class="wx-scene">
	    <div class="timelapse">
	      <video id="v-WestCoast" class="lazy wx-video" poster="data/NOAA/overlay/WestCoastGLM/latest.jpg" controls="false" autoplay muted playsinline loop>
		<source data-src="data/NOAA/overlay/WestCoastGLM/latest.mp4">
	      </video>
	    </div>
	  </div>
	  
	  <div id="video-BayDelta" class="wx-scene">
	    <div class="timelapse">
	      <video id="v-BayDelta"  class="lazy wx-video" poster="data/NOAA/overlay/BayDelta500m/latest.jpg" controls="false" autoplay muted playsinline loop>
		<source data-src="data/NOAA/overlay/BayDelta500m/latest.mp4">
	      </video>
	    </div>
	  </div>

<!--
	  <div id="purpleAir" class="wx-scene">
		<div id='PurpleAirWidget_81675_module_AQI_conversion_C0_average_10_layer_standard'>Loading PurpleAir Widget...</div>
		<script src='https://www.purpleair.com/pa.widget.js?key=BIHHOFMKJ30NI4DB&module=AQI&conversion=C0&average=10&layer=standard&container=PurpleAirWidget_81675_module_AQI_conversion_C0_average_10_layer_standard'></script>
	  </div>
-->

<!--
	  <div id="currentMapScene" class="wx-scene">
	    <div id="currentLabel" class="label">Operational Forecast System Currents</div>
	    <div id="currentMap" class="ol-flex-fit" width="1280" height="720"></div>
	  </div>
-->

<!--
	  <div id="nationalRadarScene" class="wx-scene">
	    <div id="nationalRadar" class="ol-flex-fit">
	      <div id="nationalRadarLabel" class="ol-label">National Radar</div>
	    </div>
	  </div>
-->

	  <div id="WeatherFlowStFYCScene" class="wx-scene">
	    <div class="label">WeatherFlow 72 Hour Forecast</div>
	    <div id="wf-stfyc"></div>
	  </div>

	  <div id="WeatherFlowTinsleyScene" class="wx-scene">
	    <div class="label">WeatherFlow 72 Hour Forecast</div>
	    <div id="wf-tinsley"></div>
	  </div>
	  
	  <div id="aisScene" class="wx-scene ais-container">
	    <div class="label">Local AIS</div>
	    <div id="aischart" class="leaflet-container leaflet-touch leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom ais-container" tabindex="0"></div>
	  </div>
	  
	  <div id="nationalRadar2Scene" class="wx-scene">
	    <div id="nationalRadar2" class="ol-flex-fit">
	      <div id="nationalRadar2Label" class="ol-label">National Radar, Warnings, Watches, Advisories</div>
	    </div>
	  </div>

	  <div id="SSTScene" class="wx-scene">
	    <div id="SST" class="ol-flex-fit">
	      <div id="SSTLabel" class="ol-label">Sea Surface Temperature</div>
	    </div>
	  </div>

	  <div id="SSTanomalyScene" class="wx-scene">
	    <div id="SSTanomaly" class="ol-flex-fit">
	      <div id="SSTanomalyLabel" class="ol-label">Sea Surface Temperature Anomaly</div>
	    </div>
	  </div>

	  <div id="GlobalWindScene" class="wx-scene">
	    <div id="GlobalWind" class="ol-flex-fit">
	      <div id="GlobalWindLabel" class="ol-label">3-Day Composite ASCAT Windspeed</div>
	    </div>
	  </div>

	  <div id="GlobalWaveScene" class="wx-scene">
	    <div id="GlobalWave" class="ol-flex-fit">
	      <div id="GlobalWaveLabel" class="ol-label">WaveWatch3 (WW3) Significant Wave Height</div>
	    </div>
	  </div>

	  <div id="cloudTopsScene" class="wx-scene">
	    <div id="cloudTops" class="ol-flex-fit" width="1280" height="720">
	      <div id="cloudTopsLabel" class="ol-label">GOES-East Infra-red Cloud Tops</div>
	    </div>
	  </div>

<!--
	  <div id="sfLocal" class="wx-scene">
	    <div class="obs-grid">
	      <div class="obs-cell">
		<div id="sfLocalNOAA" style="flex: 1 1 auto; width: 1800px; height: 1000px; max-width: 100%; max-height: 100%"></div>
	      </div>
	    </div>
	  </div>
-->

<!--
	  <div id="sfLocalObservations" class="wx-scene">
	    <div class="ol-flex-fit" style="flex-direction: column;">
	      <div class="obs-grid">
		<div class="obs-cell">
		  <div class="label">Local Observations</div>
		  <div id="sfLocalObservationsTable" class="obs-table"></div>
		</div>
	      </div>
	      <div class="ol-flex-fit" style="flex-direction: column;">
		<div class="label">Local Radar & Warnings</div>
		<div class="ol-flex-fit">
		  <div id="localRadar" class="ol-flex-fit">
		    <div id="localRadarLabel" class="ol-label">Local NEXRAD Radar</div>
		  </div>
		</div>
	      </div>
	    </div>
	  </div>
-->

<!--
	  <div id="KarlHRRRScene" class="wx-scene">
	    <div id="KarlHRRR" class="wx-image wx-relative"></div>
	  </div>

	  <div id="KarlNAMScene" class="wx-scene">
	    <div id="KarlNAM" class="wx-image wx-relative"></div>
	  </div>
-->

	  <!-- text-scene HTML is inserted by initialize() -->
	  <div id="linksScene" class="wx-scene">
	    <div class="text-scene" w3-include-html="links.html">
	    </div>
	  </div>
	  
	  <div id="aboutScene" class="wx-scene">
	    <div class="text-scene" w3-include-html="about.html">
	    </div>
	  </div>
	</div>
      </div> <!-- content -->
    </div> <!-- page -->
  </body>
</html>
